models:
  - name: stg_jaffle_shop__customers
    description: The grain of this table is one unique customer per row.
    columns:
    - name: customer_id 
      description: Primary key for the customers table.
      data_tests:
        - unique
        - not_null
  - name: stg_jaffle_shop__orders 
    description: The grain of this table is one unique order per row.
    columns:
    - name: order_id
      description: Primary key for the orders table.
      data_tests:
        - unique
        - not_null  
    - name: order_status 
      description: "{{ doc('order_status') }}"
      data_tests:
        - accepted_values:
            values:
              - completed 
              - returned 
              - return_pending 
              - shipped 
              - placed 
    - name: customer_id 
      data_tests:
        - relationships:
            field: customer_id
            to: ref('stg_jaffle_shop__customers')


